= Batphone

link:batphone.png

Batphone Asterisk Gateway Interface (AGI) library for Ruby.  Not to be confused
with RAGI[http://www.snapvine.com/code/ragi/] which is a fine library but is
not as well suited to short and sweet AGI bat-tasks.

== Synopsis

In extensions.conf:

    exten => batphone,1,AGI(batphone.agi)

batphone.agi:

    #!/usr/bin/ruby
    require 'agi'

    agi = AGI.new
    agi.answer
    agi.stream_file('batman_help_the_monkeys_are_everywhere', nil)
    begin
      r = agi.stream_file('tt-monkeys', '#') # press pound to make them stop!
    end while r.result != ?#

== Requirements
Gee, Batman, all you need is Ruby. You might want Asterisk[http://asterisk.org]
too.

== Installation
    sudo rake install
or
    sudo ruby setup.rb

== Details
An AGI object serves as your proxy to Asterisk. Each time you send a command to
Asterisk using AGI#send or using the metaprogrammed interface, you get an
AGI::Response back. 

== TODO
- 5xx errors span multiple lines and should be handled by the lib (probably an
  exception raised too)
- It might be nice to have convenience methods that match up with regular
  Asterisk Applications (commands), e.g. Playback, Background, etc. 
- I'm inclined to make an OpenStruct-like interface to the Asterisk
  environment, but I need to make sure there won't be any metaprogramming
  conflitcs

== License
Copyright:: Copyright (C) 2007 Hans Fugal <mailto:hans@fugal.net>.
License:: Distributed under the same terms as Ruby.

== Colophon
Holy red phones, Batman! Asterisk is about phones. Rubies are red. Batphones
are really swell red phones. 

No relation to batsman, though I think he's swell too.

The image is from an
article[http://www.millionaireplayboy.com/toys/batphone.php] on building your
own physical batphone at Millionaire Playboy.
